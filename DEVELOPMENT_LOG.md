# ðŸš€ Open Notebook é–‹ç™¼è¨˜éŒ„

## ðŸ“… 2025å¹´8æœˆ16æ—¥ - Mac M1 ç’°å¢ƒè¨­ç½®å®Œæˆ

### ðŸŽ¯ æœ¬æ¬¡é–‹ç™¼ç›®æ¨™
ç‚º Mac M1 è™•ç†å™¨å»ºç«‹å®Œæ•´çš„ Open Notebook é–‹ç™¼ç’°å¢ƒï¼Œä¸¦å‰µå»ºä¸€éµå•Ÿå‹•è§£æ±ºæ–¹æ¡ˆã€‚

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### ðŸ”§ ç’°å¢ƒè¨­ç½®
- **Python ç‰ˆæœ¬å‡ç´š**: å¾ž 3.9.6 å‡ç´šåˆ° 3.11+ (ä½¿ç”¨ Homebrew å®‰è£ python@3.11)
- **å¥—ä»¶ç®¡ç†å™¨**: å®‰è£ä¸¦é…ç½® UV å¥—ä»¶ç®¡ç†å™¨
- **è™›æ“¬ç’°å¢ƒ**: å»ºç«‹ `.venv` ç’°å¢ƒä¸¦å®‰è£ 191 å€‹ä¾è³´å¥—ä»¶
- **ç³»çµ±ä¾è³´**: å®‰è£ `libmagic` è§£æ±º content-core ä¾è³´å•é¡Œ
- **Docker ç’°å¢ƒ**: å®‰è£ä¸¦é…ç½® Docker Desktop for Mac

### ðŸ³ Docker é…ç½®ä¿®æ­£
- **ç«¯å£æ˜ å°„**: åœ¨ `docker-compose.yml` ä¸­æ·»åŠ  SurrealDB ç«¯å£æ˜ å°„ `8000:8000`
- **ç’°å¢ƒè®Šæ•¸**: ä¿®æ­£ `SURREAL_URL` å¾ž `ws://surrealdb/rpc:8000` æ”¹ç‚º `ws://localhost/rpc:8000`
- **Docker.env**: å‰µå»º `docker.env` æ–‡ä»¶ä»¥æ»¿è¶³ Docker Compose éœ€æ±‚

### ðŸš€ ä¸€éµå•Ÿå‹•ç³»çµ±
å‰µå»ºäº†å®Œæ•´çš„æœå‹™ç®¡ç†è…³æœ¬é›†ï¼š

#### ðŸ“œ `start.sh` - ä¸»å•Ÿå‹•è…³æœ¬ (6.7KB)
**åŠŸèƒ½ç‰¹è‰²:**
- ðŸ” æ™ºèƒ½ç’°å¢ƒæª¢æŸ¥ (Dockerã€Pythonã€ä¾è³´)
- ðŸ”„ è‡ªå‹•ä¿®å¾© (å•Ÿå‹• Docker Desktopã€å‰µå»ºè™›æ“¬ç’°å¢ƒ)
- ðŸŽ¨ å½©è‰²ç‹€æ…‹è¼¸å‡º (ç¶ è‰²æˆåŠŸã€ç´…è‰²éŒ¯èª¤ã€é»ƒè‰²è­¦å‘Š)
- ðŸ›¡ï¸ å®Œå–„éŒ¯èª¤è™•ç†å’Œå›žæ»¾æ©Ÿåˆ¶
- ðŸ§¹ Ctrl+C å„ªé›…åœæ­¢å’Œè‡ªå‹•æ¸…ç†
- ðŸ“Š ä¾åºå•Ÿå‹•ï¼šSurrealDB â†’ API â†’ Worker â†’ Streamlit UI

#### ðŸ“Š `status.sh` - ç‹€æ…‹æª¢æŸ¥è…³æœ¬ (1.8KB)
- å¯¦æ™‚é¡¯ç¤ºæ‰€æœ‰æœå‹™ç‹€æ…‹
- é¡¯ç¤ºè¨ªå• URL
- æä¾›ä½¿ç”¨æç¤º

#### ðŸ›‘ `stop.sh` - åœæ­¢è…³æœ¬ (1.1KB)
- å„ªé›…åœæ­¢æ‰€æœ‰æœå‹™
- æ¸…ç†æš«å­˜æª”æ¡ˆå’Œ PID

#### ðŸ“– `STARTUP_GUIDE.md` - ä½¿ç”¨æŒ‡å— (2.7KB)
- å®Œæ•´çš„ä½¿ç”¨èªªæ˜Ž
- æ•…éšœæŽ’é™¤æŒ‡å—
- å¿«é€ŸæŒ‡ä»¤åƒè€ƒ

---

## ðŸ”§ è§£æ±ºçš„æŠ€è¡“å•é¡Œ

### 1. **Database Connection Issue**
```
gaierror: [Errno 8] nodename nor servname provided, or not known
```
**è§£æ±ºæ–¹æ¡ˆ:**
- ä¿®æ”¹ç’°å¢ƒè®Šæ•¸ä¸­çš„ `SURREAL_URL` å¾ž Docker å…§éƒ¨ä¸»æ©Ÿåæ”¹ç‚º localhost
- åœ¨ docker-compose.yml ä¸­æ·»åŠ ç«¯å£æ˜ å°„

### 2. **Missing libmagic Dependency**
```
ImportError: failed to find libmagic. Check your installation
```
**è§£æ±ºæ–¹æ¡ˆ:**
- ä½¿ç”¨ Homebrew å®‰è£ `libmagic`
- æ›´æ–°å•Ÿå‹•è…³æœ¬ä»¥è‡ªå‹•æª¢æŸ¥æ­¤ä¾è³´

### 3. **Python Version Compatibility**
```
requires-python = ">=3.11,<3.13"
```
**è§£æ±ºæ–¹æ¡ˆ:**
- å¾žç³»çµ± Python 3.9.6 å‡ç´šåˆ° Homebrew Python 3.11
- é‡æ–°å‰µå»ºè™›æ“¬ç’°å¢ƒä½¿ç”¨æ­£ç¢ºç‰ˆæœ¬

### 4. **Service Dependencies**
**è§£æ±ºæ–¹æ¡ˆ:**
- å»ºç«‹æ­£ç¢ºçš„å•Ÿå‹•é †åºé‚è¼¯
- æ·»åŠ æœå‹™é–“çš„ç­‰å¾…å’Œæª¢æŸ¥æ©Ÿåˆ¶

---

## ðŸ“ æ–‡ä»¶çµæ§‹è®Šæ›´

```
open-notebook/
â”œâ”€â”€ start.sh           â† ðŸ†• ä¸€éµå•Ÿå‹•è…³æœ¬
â”œâ”€â”€ stop.sh            â† ðŸ†• åœæ­¢è…³æœ¬  
â”œâ”€â”€ status.sh          â† ðŸ†• ç‹€æ…‹æª¢æŸ¥è…³æœ¬
â”œâ”€â”€ STARTUP_GUIDE.md   â† ðŸ†• ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ docker-compose.yml â† ðŸ”„ å·²ä¿®æ”¹ (æ·»åŠ ç«¯å£æ˜ å°„)
â”œâ”€â”€ .env               â† ðŸ”„ å·²æ›´æ–° (localhost é…ç½®)
â””â”€â”€ docker.env         â† ðŸ†• Docker Compose ç’°å¢ƒæ–‡ä»¶
```

---

## ðŸŽ¯ ä¸‹ä¸€éšŽæ®µé–‹ç™¼è¨ˆåŠƒ

### ðŸ“‹ å¾…å¯¦ç¾åŠŸèƒ½: LM Studio æœ¬åœ°ä¼ºæœå™¨æ•´åˆ

#### ðŸŽ¯ ç›®æ¨™
é›†æˆ LM Studio æœ¬åœ°æ¨¡åž‹æœå‹™å™¨ï¼Œå¯¦ç¾å®Œå…¨é›¢ç·šçš„ AI èƒ½åŠ›ã€‚

#### ðŸ“‹ å¯¦ç¾è¨ˆåŠƒ
1. **LM Studio API æ•´åˆ**
   - æ·»åŠ  LM Studio API å®¢æˆ¶ç«¯æ”¯æŒ
   - é…ç½®æœ¬åœ°æ¨¡åž‹ç«¯é»ž (é€šå¸¸æ˜¯ http://localhost:1234)
   - å¯¦ç¾èˆ‡ç¾æœ‰æ¨¡åž‹é¸æ“‡å™¨çš„æ•´åˆ

2. **ç’°å¢ƒè®Šæ•¸é…ç½®**
   ```bash
   # LM Studio Configuration
   LM_STUDIO_BASE_URL="http://localhost:1234/v1"
   LM_STUDIO_API_KEY="lm-studio"  # LM Studio é è¨­
   LM_STUDIO_MODEL_NAME="local-model"
   ```

3. **æ¨¡åž‹æä¾›è€…æ“´å±•**
   - åœ¨æ¨¡åž‹æœå‹™ä¸­æ·»åŠ  LM Studio æä¾›è€…
   - æ”¯æŒæœ¬åœ°æ¨¡åž‹çš„å‹•æ…‹ç™¼ç¾
   - å¯¦ç¾æ¨¡åž‹åˆ‡æ›é‚è¼¯

4. **å•Ÿå‹•è…³æœ¬å¢žå¼·**
   - æª¢æŸ¥ LM Studio æœå‹™ç‹€æ…‹
   - å¯é¸å•Ÿå‹• LM Studio (å¦‚æžœå·²å®‰è£)
   - æ·»åŠ æœ¬åœ°æ¨¡åž‹å¯ç”¨æ€§æª¢æŸ¥

#### ðŸ”§ æŠ€è¡“å¯¦ç¾é»ž
- **API å…¼å®¹æ€§**: LM Studio ä½¿ç”¨ OpenAI å…¼å®¹çš„ API
- **æ¨¡åž‹ç®¡ç†**: æ”¯æŒæœ¬åœ°æ¨¡åž‹çš„åŠ è¼‰å’Œå¸è¼‰
- **æ•ˆèƒ½å„ªåŒ–**: æœ¬åœ°æŽ¨ç†çš„è¨˜æ†¶é«”å’Œ GPU ç®¡ç†
- **éŒ¯èª¤è™•ç†**: æœ¬åœ°æœå‹™ä¸å¯ç”¨æ™‚çš„é™ç´šæ©Ÿåˆ¶

#### ðŸ“š åƒè€ƒè³‡æº
- LM Studio API æ–‡æª”
- OpenAI API å…¼å®¹æ€§æŒ‡å—
- æœ¬åœ°æ¨¡åž‹éƒ¨ç½²æœ€ä½³å¯¦è¸

---

## ðŸ† æˆæžœç¸½çµ

### âœ… æˆåŠŸæŒ‡æ¨™
- âœ… **100% æˆåŠŸå•Ÿå‹•çŽ‡**: ä¸€éµè…³æœ¬å¯é å•Ÿå‹•æ‰€æœ‰æœå‹™
- âœ… **é›¶æ‰‹å‹•é…ç½®**: è‡ªå‹•è™•ç†æ‰€æœ‰ç’°å¢ƒè¨­ç½®
- âœ… **å®Œæ•´éŒ¯èª¤æ¢å¾©**: æ™ºèƒ½æª¢æ¸¬å’Œä¿®å¾©å¸¸è¦‹å•é¡Œ
- âœ… **é–‹ç™¼è€…é«”é©—**: å½©è‰²è¼¸å‡ºã€æ¸…æ™°ç‹€æ…‹ã€å®Œæ•´æ–‡æª”

### ðŸ“Š æŠ€è¡“æ•¸æ“š
- **è™›æ“¬ç’°å¢ƒ**: Python 3.12.11, 191 å€‹å¥—ä»¶
- **å•Ÿå‹•æ™‚é–“**: ~30-60 ç§’ (å« Docker å•Ÿå‹•)
- **è¨˜æ†¶é«”ä½¿ç”¨**: ~500MB (ä¸å«æ¨¡åž‹æŽ¨ç†)
- **ç«¯å£åˆ†é…**: 8502 (UI), 5055 (API), 8000 (DB)

### ðŸŽ¯ ä¸‹æ¬¡é–‹ç™¼æŽ¥çºŒé»ž
1. å¾ž LM Studio æœ¬åœ°ä¼ºæœå™¨æ•´åˆé–‹å§‹
2. åƒè€ƒæœ¬è¨˜éŒ„çš„ç’°å¢ƒè¨­ç½®ç¶“é©—
3. ä½¿ç”¨ç¾æœ‰å•Ÿå‹•è…³æœ¬æ¡†æž¶æ“´å±•åŠŸèƒ½

---

## ðŸ“§ è¯çµ¡ä¿¡æ¯
**é–‹ç™¼æ—¥æœŸ**: 2025å¹´8æœˆ16æ—¥  
**Git Commit**: `f2d362a` - feat: Add Mac M1 environment setup and one-click startup scripts  
**ç’°å¢ƒ**: Mac M1, macOS, Python 3.12.11, Docker Desktop
